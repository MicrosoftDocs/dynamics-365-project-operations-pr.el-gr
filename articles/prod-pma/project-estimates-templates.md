---
title: Συγχρονισμός εκτιμήσεων έργου απευθείας από το Project Service Automation στο Finance and Operations
description: Αυτό το θέμα περιγράφει τα πρότυπο και τις υποκείμενες εργασίες που χρησιμοποιούνται για το συγχρονισμό ωριαίων εκτιμήσεων έργου και εκτιμήσεων δαπανών έργου απευθείας από το Microsoft Dynamics 365 Project Service Automation στο Dynamics 365 Finance.
author: Yowelle
manager: AnnBe
ms.date: 07/20/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: b454ad57-2fd6-46c9-a77e-646de4153067
ms.search.region: Global
ms.author: andchoi
ms.search.validFrom: 2016-11-28
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: 336de474c859d30d1ec07ae34bf0c3d578faeef1
ms.sourcegitcommit: 5c4c9bf3ba018562d6cb3443c01d550489c415fa
ms.translationtype: HT
ms.contentlocale: el-GR
ms.lasthandoff: 10/16/2020
ms.locfileid: "4077044"
---
# <a name="synchronize-project-estimates-directly-from-project-service-automation-to-finance-and-operations"></a>Συγχρονισμός εκτιμήσεων έργου απευθείας από το Project Service Automation στο Finance and Operations

[!include[banner](../includes/banner.md)]

Αυτό το θέμα περιγράφει τα πρότυπο και τις υποκείμενες εργασίες που χρησιμοποιούνται για το συγχρονισμό ωριαίων εκτιμήσεων έργου και εκτιμήσεων δαπανών έργου απευθείας από το Dynamics 365 Project Service Automation στο Dynamics 365 Finance.

> [!NOTE]
> - Η ενοποίηση εργασιών έργου, οι κατηγορίες εξόδων, οι εκτιμήσεις ωρών, οι εκτιμήσεις εξόδων και το κλείδωμα λειτουργιών είναι διαθέσιμα στην έκδοση 8.0.
> - Η ενοποίηση πραγματικών στοιχείων είναι διαθέσιμη στην έκδοση 8.0.1 ή μεταγενέστερη.

## <a name="data-flow-for-project-service-automation-to-finance"></a>Ροή δεδομένων για το Project Service Automation στο Finance

Η λύση ενοποίησης Project Service Automation σε Finance χρησιμοποιεί τη δυνατότητα ενοποίησης δεδομένων για το συγχρονισμό δεδομένων σε παρουσίες των Project Service Automation και Finance. Τα πρότυπα ενοποίησης που είναι διαθέσιμα με τη δυνατότητα ενοποίησης δεδομένων ενεργοποιούν τη ροή των δεδομένων σχετικά με τις ωριαίες εκτιμήσεις έργου και τις εκτιμήσεις δαπανών έργου μεταξύ του Project Service Automation και του Finance.

Η εικόνα που ακολουθεί δείχνει τον τρόπο με τον οποίο συγχρονίζονται τα δεδομένα μεταξύ Project Service Automation και Finance.

[![Ροή δεδομένων για την ενοποίηση του Project Service Automation με το Finance](./media/ProjectEstimatesFlow.png)](./media/ProjectEstimatesFlow.png)

## <a name="project-hour-estimates"></a>Ωριαίες εκτιμήσεις έργου

### <a name="template-and-tasks"></a>Πρότυπο και εργασίες

Για να αποκτήσετε πρόσβαση στα διαθέσιμα πρότυπα, στο κέντρο διαχείρισης του Microsoft Power Apps, επιλέξτε **Έργα** και, στη συνέχεια, στην επάνω δεξιά γωνία, επιλέξτε **Νέο έργο** για να επιλέξετε δημόσια πρότυπα.

Το παρακάτω πρότυπο και οι υποκείμενες εργασίες που χρησιμοποιούνται για το συγχρονισμό των ωριαίων εκτιμήσεων έργου απευθείας από το Project Service Automation στο Finance:

- **Όνομα του προτύπου στην ενοποίηση δεδομένων:** Ωριαίες εκτιμήσεις έργου (PSA σε Fin και Ops)
- **Όνομα των εργασιών στο έργο:**

    - Σχέσεις συναλλαγής
    - Εκτιμήσεις εξόδων

### <a name="entity-set"></a>Σύνολο οντοτήτων

| Project Service Automation | Οικονομικά                                       |
|----------------------------|-----------------------------------------------|
| Εργασίες έργου              | Οντότητα ενοποίησης για ωριαίες εκτιμήσεις έργου |

### <a name="entity-flow"></a>Ροή οντότητας

Η διαχείριση των ωριαίων εκτιμήσεων έργου γίνεται στο Project Service Automation και συγχρονίζονται με το Finance ως προβλέψεις ωρών έργου.

### <a name="prerequisites"></a>Προαπαιτούμενα στοιχεία

Για να είναι δυνατός ο συγχρονισμός των εκτιμήσεων ωρών έργου, πρέπει να συγχρονίσετε έργα, εργασίες έργου και κατηγορίες εξόδων έργου.

### <a name="power-query"></a>Power Query

Στο πρότυπο ωριαίων εκτιμήσεων έργου, πρέπει να χρησιμοποιήσετε το Microsoft Power Query για Excel για την ολοκλήρωση αυτών των εργασιών:

- Ορίστε το αναγνωριστικό προεπιλεγμένου μοντέλου πρόβλεψης που θα χρησιμοποιηθεί όταν η ενοποίηση δημιουργεί νέες προβλέψεις ώρας.
- Φιλτράρετε τυχόν καρτέλες που αφορούν συγκεκριμένους πόρους στην εργασία που θα αποτύχει η ενοποίηση σε προβλέψεις ώρας.
- Φιλτράρετε όλες τις κενές γραμμές κατηγορίας συναλλαγών. Εάν δεν ολοκληρωθεί αυτή η εργασία, αυτό μπορεί να οδηγήσει σε εσφαλμένες προβλέψεις ώρας.

#### <a name="set-the-default-forecast-model-id"></a>Ορίστε το αναγνωριστικό του προεπιλεγμένου μοντέλου πρόβλεψης

Για να ενημερώσετε το αναγνωριστικό του προεπιλεγμένου μοντέλου πρόβλεψης στο πρότυπο, κάντε κλικ στο βέλος **Αντιστοίχιση** για να ανοίξετε την αντιστοίχιση. Επιλέξτε τη σύνδεση **Υποβολή ερωτημάτων και φιλτράρισμα για προχωρημένους**.

- Εάν χρησιμοποιείτε το προεπιλεγμένο πρότυπο εκτιμήσεων ωρών (PSA σε Fin και Ops), στο Power Query, επιλέξτε την τελευταία **Συνθήκη που έχει εισαχθεί** από τη λίστα **Εφαρμοσμένα βήματα**. Στην καταχώριση **Συνάρτηση** , αντικαταστήστε το **O\_forecast** με το όνομα του αναγνωριστικού μοντέλου πρόβλεψης που θα πρέπει να χρησιμοποιηθεί με την ενοποίηση. Το προεπιλεγμένο πρότυπο έχει ένα αναγνωριστικό μοντέλου πρόβλεψης από τα δεδομένα επίδειξης.
- Εάν δημιουργείτε ένα νέο πρότυπο, πρέπει να προσθέσετε αυτήν τη στήλη. Στο Power Query επιλέξτε **Προσθήκη στήλης υπό όρους** και καταχωρίστε ένα όνομα για τη νέα στήλη, για παράδειγμα, **ModelID**. Εισάγετε τη συνθήκη για τη στήλη, όπου, εάν η εργασία έργου είναι null, τότε \<enter the forecast model ID\>; else null.

#### <a name="filter-out-resource-specific-records"></a>Φιλτράρισμα καρτελών που αφορούν πόρους

Το πρότυπο "ώρες έργου" (PSA σε Fin και Ops) έχει ένα προεπιλεγμένο φίλτρο που καταργεί τυχόν καρτέλες που αφορούν πόρους. Εάν δημιουργήσετε το δικό σας πρότυπο, πρέπει να προσθέσετε αυτό το φίλτρο. Επιλέξτε τη σύνδεση **Υποβολή ερωτημάτων και φιλτράρισμα για προχωρημένους** για να φιλτράρετε τη στήλη **msdyn\_islinetask** έτσι, ώστε να περιλαμβάνονται μόνο οι καρτέλες **Ψευδές**.

#### <a name="filter-out-empty-transaction-category-rows"></a>Φιλτράρετε τις κενές γραμμές κατηγορίας συναλλαγών

Πρέπει να προσθέσετε ένα φίλτρο για να καταργήσετε τις κενές κατηγορίες συναλλαγών. Αυτή η εργασία απαιτείται, ανεξάρτητα από το εάν χρησιμοποιείτε το προεπιλεγμένο πρότυπο ή δημιουργείτε το δικό σας πρότυπο. Αυτό το φίλτρο καταργεί όλες τις συνοπτικές γραμμές από το Project Service Automation οι οποίες ενδέχεται να προκαλέσουν την εσφαλμένη πρόβλεψη της ώρας στο Finance. Επιλέξτε τη σύνδεση **Υποβολή ερωτημάτων και φιλτράρισμα για προχωρημένους** για να φιλτράρετε τις κενές καρτέλες στη στήλη **msdyn\_transactioncategory\_value**.

### <a name="template-mapping-in-data-integration"></a>Αντιστοίχιση προτύπου στην ενοποίηση δεδομένων

Η εικόνα που ακολουθεί δείχνει ένα παράδειγμα των αντιστοιχίσεων εργασιών προτύπου στην ενοποίηση δεδομένων. Η αντιστοίχιση εμφανίζει τις πληροφορίες πεδίου που θα συγχρονιστούν από το Project Service Automation στο Finance.

[![Αντιστοίχιση προτύπου εργασίας στην ενοποίηση δεδομένων](./media/ProjectHourEstimatesMapping.jpg)](./media/ProjectHourEstimatesMapping.jpg)

## <a name="project-expense-estimates"></a>Εκτιμήσεις εξόδων έργου

### <a name="template-and-tasks"></a>Πρότυπο και εργασίες

Το παρακάτω πρότυπο και οι υποκείμενες εργασίες που χρησιμοποιούνται για το συγχρονισμό των εκτιμήσεων εξόδων έργου απευθείας από το Project Service Automation στο Finance:

- **Όνομα του προτύπου στην ενοποίηση δεδομένων:** Εκτιμήσεις δαπανών έργου (PSA σε Fin και Ops)
- **Όνομα των εργασιών στο έργο:**

    - Σχέσεις συναλλαγής 
    - Εκτιμήσεις εξόδων

### <a name="entity-set"></a>Σύνολο οντοτήτων

| Project Service Automation | Οικονομικά                                                  |
|----------------------------|----------------------------------------------------------|
| Συνδέσεις συναλλαγών    | Οντότητα ενοποίησης για σχέσεις συναλλαγών έργου |
| Γραμμές εκτιμήσεων             | Οντότητα ενοποίησης για εκτιμήσεις δαπανών έργου         |

### <a name="entity-flow"></a>Ροή οντότητας

Η διαχείριση των δαπανών έργου γίνεται στο Project Service Automation και συγχρονίζονται με το Finance ως προβλέψεις δαπανών έργου.

### <a name="prerequisites"></a>Προαπαιτούμενα στοιχεία

Για να είναι δυνατός ο συγχρονισμός των εκτιμήσεων δαπανών έργου, πρέπει να συγχρονίσετε έργα, εργασίες έργου και κατηγορίες εξόδων έργου.

### <a name="power-query"></a>Power Query

Στο πρότυπο εκτιμήσεων εξόδων έργου, πρέπει να χρησιμοποιήσετε το Power Query για Excel για την ολοκλήρωση αυτών των εργασιών:

- Φιλτράρετε το για να συμπεριλάβετε μόνο καρτέλες εξόδων για τις γραμμές εκτίμησης εξόδων.
- Ορίστε το αναγνωριστικό προεπιλεγμένου μοντέλου πρόβλεψης που θα χρησιμοποιηθεί όταν η ενοποίηση δημιουργεί νέες προβλέψεις ώρας.
- Μεταμορφώστε τους τύπους χρέωσης.
- Μεταμορφώστε τους τύπους συναλλαγών.

#### <a name="filter-to-include-only-expense-estimate-lines"></a>Φιλτράρετε το για να συμπεριλάβετε μόνο γραμμές εκτίμησης εξόδων

Το πρότυπο εκτιμήσεων έργου (PSA σε Fin και Ops) έχει ένα προεπιλεγμένο φίλτρο που περιλαμβάνει μόνο γραμμές εξόδων στην ενοποίηση. Εάν δημιουργήσετε το δικό σας πρότυπο, πρέπει να προσθέσετε αυτό το φίλτρο. Επιλέξτε την εργασία **Σχέσεις συναλλαγών** και, στη συνέχεια, κάντε κλικ στο βέλος **Αντιστοίχιση** για να ανοίξετε την αντιστοίχιση. Επιλέξτε τη σύνδεση **Υποβολή ερωτημάτων και φιλτράρισμα για προχωρημένους**. Φιλτράρετε τη στήλη **msdyn\_transactiontype1** ώστε να περιλαμβάνει μόνο το **msdyn\_estimateline**.

#### <a name="set-the-default-forecast-model-id"></a>Ορίστε το αναγνωριστικό του προεπιλεγμένου μοντέλου πρόβλεψης

Για να ενημερώσετε το αναγνωριστικό του προεπιλεγμένου μοντέλου πρόβλεψης στο πρότυπο, επιλέξτε την εργασία **Εκτιμήσεις δαπανών** κάντε κλικ στο βέλος **Αντιστοίχιση** για να ανοίξετε την αντιστοίχιση. Επιλέξτε τη σύνδεση **Υποβολή ερωτημάτων και φιλτράρισμα για προχωρημένους**.

- Εάν χρησιμοποιείτε το πρότυπο προεπιλεγμένων εκτιμήσεων δαπανών έργου (PSA σε Fin και Ops), στο Power Query, επιλέξτε πρώτα την τελευταία **Συνθήκη που έχει εισαχθεί** από την ενότητα **Εφαρμοσμένα βήματα**. Στην καταχώριση **Συνάρτηση** , αντικαταστήστε το **O\_forecast** με το όνομα του αναγνωριστικού μοντέλου πρόβλεψης που θα πρέπει να χρησιμοποιηθεί με την ενοποίηση. Το προεπιλεγμένο πρότυπο έχει ένα αναγνωριστικό μοντέλου πρόβλεψης από τα δεδομένα επίδειξης.
- Εάν δημιουργείτε ένα νέο πρότυπο, πρέπει να προσθέσετε αυτήν τη στήλη. Στο Power Query επιλέξτε **Προσθήκη στήλης υπό όρους** και καταχωρίστε ένα όνομα για τη νέα στήλη, για παράδειγμα, **ModelID**. Εισάγετε τη συνθήκη για τη στήλη, όπου, εάν το αναγνωριστικό γραμμής εκτίμησης είναι null, τότε \<enter the forecast model ID\>; else null.

#### <a name="transform-the-billing-types"></a>Μεταμορφώστε τους τύπους χρέωσης

Το πρότυπο εκτιμήσεων εξόδων έργου (PSA σε Fin και Ops) περιλαμβάνει μια στήλη υπό όρους που χρησιμοποιείται για τον μετασχηματισμό των τύπων χρέωσης που λαμβάνονται από το Project Service Automation κατά την ενοποίηση. Εάν δημιουργήσετε το δικό σας πρότυπο, πρέπει να προσθέσετε αυτήν τη στήλη υπό όρους. Επιλέξτε τη σύνδεση **Υποβολή ερωτημάτων και φιλτράρισμα για προχωρημένους** και, στη συνέχεια, επιλέξτε **Προσθήκη στήλης υπό όρους**. Καταγράψτε ένα όνομα για τη νέα στήλη, για παράδειγμα, **BillingType**. Μετά πληκτρολογήστε την εξής συνθήκη:

Εάν **msdyn\_billingtype** = 192350000, τότε **NonChargeable**  
else if **msdyn\_billingtype** = 192350001, τότε **Chargeable**  
else if **msdyn\_billingtype** = 192350002, τότε **Δωρεάν**  
else **NotAvailable**

#### <a name="transform-the-transaction-types"></a>Μεταμορφώστε τους τύπους συναλλαγών

Το πρότυπο εκτιμήσεων εξόδων έργου (PSA σε Fin και Ops) περιλαμβάνει μια στήλη υπό όρους που χρησιμοποιείται για τον μετασχηματισμό των τύπων συναλλαγών που λαμβάνονται από το Project Service Automation κατά την ενοποίηση. Εάν δημιουργήσετε το δικό σας πρότυπο, πρέπει να προσθέσετε αυτήν τη στήλη υπό όρους. Επιλέξτε τη σύνδεση **Υποβολή ερωτημάτων και φιλτράρισμα για προχωρημένους** και, στη συνέχεια, επιλέξτε **Προσθήκη στήλης υπό όρους**. Καταγράψτε ένα όνομα για τη νέα στήλη, για παράδειγμα, **TransactionType**. Μετά πληκτρολογήστε την εξής συνθήκη:

Εάν **msdyn\_transactiontypecode** = 192350000, τότε **Κόστος**  
else if **msdyn\_transactiontypecode** = 192350005, τότε **Πωλήσεις**  
else **null**

### <a name="template-mapping-in-data-integration"></a>Αντιστοίχιση προτύπου στην ενοποίηση δεδομένων

Οι εικόνες που ακολουθούν δείχνουν παραδείγματα των αντιστοιχίσεων εργασιών προτύπου στην ενοποίηση δεδομένων. Η αντιστοίχιση εμφανίζει τις πληροφορίες πεδίου που θα συγχρονιστούν από το Project Service Automation στο Finance.

[![Αντιστοίχιση προτύπου των συναλλαγών εκτίμησης εξόδων](./media/ExpenseEstimateTransactionRelationshipsMapping.jpg)](./media/ExpenseEstimateTransactionRelationshipsMapping.jpg)

[![Αντιστοίχιση προτύπου των εκτιμήσεων εξόδων](./media/ExpenseEstimatesMapping.jpg)](./media/ExpenseEstimatesMapping.jpg)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
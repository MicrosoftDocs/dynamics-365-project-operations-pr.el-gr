---
title: Συγχρονισμός συμβάσεων έργου και έργων απευθείας από το Project Service Automation στο Finance
description: Αυτό το θέμα περιγράφει τα πρότυπο και τις υποκείμενες εργασίες που χρησιμοποιούνται για το συγχρονισμό συμβάσεων έργου και έργων απευθείας από το Microsoft Dynamics 365 Project Service Automation στο Dynamics 365 Finance.
author: Yowelle
manager: AnnBe
ms.date: 12/17/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: b454ad57-2fd6-46c9-a77e-646de4153067
ms.search.region: Global
ms.author: andchoi
ms.search.validFrom: 2017-12-13
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: 319000e6a826580049e8575def5790ab595a3165
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: el-GR
ms.lasthandoff: 02/15/2021
ms.locfileid: "5289594"
---
# <a name="synchronize-project-contracts-and-projects-directly-from-project-service-automation-to-finance"></a>Συγχρονισμός συμβάσεων έργου και έργων απευθείας από το Project Service Automation στο Finance 

[!include[banner](../includes/banner.md)]

[!include [rename-banner](~/includes/cc-data-platform-banner.md)]

Αυτό το θέμα περιγράφει τα πρότυπο και τις υποκείμενες εργασίες που χρησιμοποιούνται για το συγχρονισμό συμβάσεων έργου και έργων απευθείας από το Dynamics 365 Project Service Automation στο Dynamics 365 Finance.

> [!NOTE] 
> Εάν χρησιμοποιείτε το Enterprise edition 7.3.0, θα πρέπει να εγκαταστήσετε το KB 4074835.

## <a name="data-flow-for-project-service-automation-to-finance"></a>Ροή δεδομένων για το Project Service Automation στο Finance

> [!NOTE]
> Για να μπορέσετε να χρησιμοποιήσετε τη λύση ενοποίησης Project Service Automation σε Finance, θα πρέπει να εξοικειωθείτε με τη δυνατότητα ενοποίησης δεδομένων του Dynamics 365.

Η λύση ενοποίησης Project Service Automation σε Finance χρησιμοποιεί τη δυνατότητα ενοποίησης δεδομένων για το συγχρονισμό δεδομένων σε παρουσίες των Project Service Automation και Finance. Τα πρότυπα ενοποίησης που είναι διαθέσιμα με τη δυνατότητα ενοποίησης δεδομένων ενεργοποιούν τη ροή των έργων, τις συμβάσεις έργου, τις γραμμές σύμβασης έργου, τα ορόσημα γραμμής σύμβασης έργου, τις εργασίες έργου, τις κατηγορίες των συναλλαγών εξόδων, τις εκτιμήσεις ωρών και τις εκτιμήσεις εξόδων από το Project Service Automation στο Finance.

Η εικόνα που ακολουθεί δείχνει τον τρόπο με τον οποίο συγχρονίζονται τα δεδομένα μεταξύ Project Service Automation και Finance.

[![Ροή δεδομένων για την ενοποίηση του Project Service Automation με το Finance](./media/ProjectsAndContractsFlow_upd.JPG)](./media/ProjectsAndContractsFlow.JPG)

## <a name="templates-and-tasks"></a>Πρότυπα και εργασίες

Για να αποκτήσετε πρόσβαση στα διαθέσιμα πρότυπα, στο κέντρο διαχείρισης του Microsoft Power Apps, επιλέξτε **Έργα** και, στη συνέχεια, στην επάνω δεξιά γωνία, επιλέξτε **Νέο έργο** για να επιλέξετε δημόσια πρότυπα.

Τα παρακάτω πρότυπα και οι υποκείμενες εργασίες που χρησιμοποιούνται για το συγχρονισμό συμβάσεων έργου και έργων από το Project Service Automation στο Finance:

### <a name="integrating-with-dynamics-365-project-service-automation-v2x"></a>Ενοποίηση με το Dynamics 365 Project Service Automation v2.x
- **Όνομα του προτύπου στην ενοποίηση δεδομένων:** Έργα και συμβάσεις (Project Service Automation σε Finance)
- **Όνομα των εργασιών στο έργο:**

    - Συμβάσεις έργου Project Service Automation σε Finance
    - Έργα Project Service Automation σε Finance
    - Γραμμές σύμβασης έργου Project Service Automation σε Finance
    - Ορόσημα γραμμής σύμβασης έργου Project Service Automation σε Finance
  
### <a name="integrating-with-dynamics-365-project-service-automation-v3x"></a>Ενοποίηση με το Dynamics 365 Project Service Automation v3.x
Υπάρχει μια αλλαγή σχήματος στο Project Service Automation που επηρεάζει το πρότυπο ορόσημο της γραμμής σύμβασης έργου και η χρήση της έκδοσης v2 του προτύπου απαιτείται για την ενοποίηση του Project Service Automation v3.x με το Dynamics 365.

- **Όνομα του προτύπου στην ενοποίηση δεδομένων:** Έργα και Συμβάσεις (Project Service Automation 3.x σε Finance) - v2
- **Όνομα των εργασιών στο έργο:**

    - Συμβάσεις έργου Project Service Automation σε Finance
    - Έργα Project Service Automation σε Finance
    - Γραμμές σύμβασης έργου Project Service Automation σε Finance
    - Ορόσημα γραμμής σύμβασης έργου Project Service Automation σε Finance

Για να είναι δυνατός ο συγχρονισμός των συμβάσεων έργου και έργου, πρέπει να συγχρονίσετε τους λογαριασμούς.

## <a name="entity-set"></a>Σύνολο οντοτήτων

| Project Service Automation       | Οικονομικά                                                |
|----------------------------------|--------------------------------------------------------|
| Παραγγελίες                           | Οντότητα ενοποίησης για σύμβαση έργου                |
| Έργα                         | Οντότητα ενοποίησης για έργο                         |
| Γραμμές παραγγελιών                      | Οντότητα ενοποίησης για γραμμή σύμβασης έργου           |
| Ορόσημα γραμμής σύμβασης έργου | Οντότητα ενοποίησης για ορόσημο γραμμής σύμβασης έργου |

## <a name="entity-flow"></a>Ροή οντότητας

Η διαχείριση των συμβάσεων έργου γίνεται στο Project Service Automation και συγχρονίζονται με το Finance ως συμβάσεις έργου. Ως μέρος του προτύπου ενοποίησης, μπορείτε να ορίσετε την προέλευση ενοποίησης στο Finance για τη σύμβαση έργου.

Η διαχείριση έργων χρόνου και υλικού και έργων με προκαθορισμένη τιμή γίνεται στο Project Service Automation και συγχρονίζονται με το Finance ως έργα. Στο πλαίσιο της ενοποίησης προτύπων, μπορείτε να ορίσετε την προέλευση ενοποίησης για το έργο στο Finance. Προς το παρόν, υποστηρίζονται μόνο έργα χρόνου και υλικού και έργα με προκαθορισμένη τιμή.


Η διαχείριση γραμμών σύμβασης έργου γίνεται στο Project Service Automation και συγχρονίζονται με το Finance ως κανόνες χρέωσης σύμβασης έργου. Εάν η μέθοδος χρέωσης διαφέρει από τον προεπιλεγμένο τύπο έργου, ο συγχρονισμός ενημερώνει τον τύπο έργου για το έργο γραμμής σύμβασης και την ομάδα έργου.

Η διαχείριση των ορόσημων γραμμής σύμβασης έργου γίνεται στο Project Service Automation και συγχρονίζονται με το Finance ως ορόσημα κανόνων χρέωσης σύμβασης έργου.

## <a name="project-service-automation-to-finance-integration-solution"></a>Λύση ενοποίησης του Project Service Automation με το Finance

Το πεδίο **Αναγνωριστικό σύμβασης έργου** είναι διαθέσιμο στη σελίδα **Συμβάσεις έργου**. Αυτό το πεδίο έχει γίνει ένα φυσικό και μοναδικό κλειδί για την υποστήριξη της ενοποίησης.

Όταν δημιουργείται μια νέα σύμβαση έργου, εάν μια τιμή **Αναγνωριστικό σύμβασης έργου** δεν υπάρχει ήδη, δημιουργείται αυτόματα χρησιμοποιώντας μια ακολουθία αριθμών. Η τιμή αποτελείται από **ORD** και ακολουθείται από μια σταδιακή ακολουθία αριθμών και, στη συνέχεια, ένα επίθημα έξι χαρακτήρων. Ακολουθεί ένα παράδειγμα: **ORD-01022-Z4M9Q0**.

Το πεδίο **Αριθμός έργου** είναι διαθέσιμο στη σελίδα **Έργα**. Αυτό το πεδίο έχει γίνει ένα φυσικό και μοναδικό κλειδί για την υποστήριξη της ενοποίησης.

Όταν δημιουργείται μια νέα σύμβαση έργου, εάν μια τιμή **Αριθμός έργου** δεν υπάρχει ήδη, δημιουργείται αυτόματα χρησιμοποιώντας μια ακολουθία αριθμών. Η τιμή αποτελείται από **PRJ** και ακολουθείται από μια σταδιακή ακολουθία αριθμών και, στη συνέχεια, ένα επίθημα έξι χαρακτήρων. Ακολουθεί ένα παράδειγμα: **PRJ-01049-CCNID0**.

Όταν εφαρμόζεται η λύση ενοποίησης του Project Service Automation με το Finance, μια δέσμη ενεργειών αναβάθμισης ορίζει το πεδίο **Αναγνωριστικό σύμβασης έργου** για τις υπάρχουσες συμβάσεις έργου και το πεδίο **Αριθμός έργου** για υπάρχοντα έργα στο Project Service Automation.

## <a name="prerequisites-and-mapping-setup"></a>Προϋποθέσεις και ρύθμιση αντιστοίχισης

- Για να είναι δυνατός ο συγχρονισμός των συμβάσεων έργου και έργου, πρέπει να συγχρονίσετε τους λογαριασμούς.
- Στο σύνολο της σύνδεσής σας, προσθέστε μια αντιστοίχιση πεδίου κλειδιού ενοποίησης για **msdyn\_organizationalunits** σε **msdyn\_name \[Name\]**. Μπορεί να χρειαστεί να προσθέσετε πρώτα ένα έργο στο σύνολο συνδέσεων. Για περισσότερες πληροφορίες, ανατρέξτε στην ενότητα [Ενοποίηση δεδομένων στο Common Data Service για εφαρμογές](https://docs.microsoft.com/powerapps/administrator/data-integrator).
- Στο σύνολο της σύνδεσής σας, προσθέστε μια αντιστοίχιση πεδίου κλειδιού ενοποίησης για **msdyn\_projects** σε **msdynce\_projectnumber \[Αριθμός έργου\]**. Μπορεί να χρειαστεί να προσθέσετε πρώτα ένα έργο στο σύνολο συνδέσεων. Για περισσότερες πληροφορίες, ανατρέξτε στην ενότητα [Ενοποίηση δεδομένων στο Common Data Service για εφαρμογές](https://docs.microsoft.com/powerapps/administrator/data-integrator).
- Το **SourceDataID** για συμβάσεις έργου και έργα μπορεί να ενημερωθεί σε μια διαφορετική τιμή ή να καταργηθούν από την αντιστοίχιση. Η προεπιλεγμένη τιμή προτύπου είναι **Project Service Automation**.
- Η αντιστοίχιση **PaymentTerms** πρέπει να ενημερωθεί έτσι ώστε να αντικατοπτρίζει τους έγκυρους όρους πληρωμής στο Finance. Επίσης, μπορείτε να καταργήσετε την αντιστοίχιση από την εργασία έργου. Η προεπιλεγμένη αντιστοίχιση τιμών έχει προεπιλεγμένες τιμές για τα δεδομένα επίδειξης. Στον ακόλουθο πίνακα παρουσιάζονται οι τιμές στο Project Service Automation.

    | Τιμή | Περιγραφή   |
    |-------|---------------|
    | 1     | Εξόφληση σε 30 ημέρες        |
    | 2     | 2% 10, Εξόφληση σε 30 ημέρες |
    | 3     | Εξόφληση σε 45 ημέρες        |
    | 4     | Εξόφληση σε 60 ημέρες        |

## <a name="power-query"></a>Power Query

Χρησιμοποιήστε το Microsoft Power Query για Excel για να φιλτράρετε τα δεδομένα, εάν πληρούνται οι ακόλουθες συνθήκες:

- Διαθέτετε παραγγελίες πωλήσεων στο Dynamics 365 Sales.
- Διαθέτετε πολλές οργανωτικές μονάδες στο Project Service Automation και αυτές οι οργανωτικές μονάδες θα αντιστοιχιστούν σε πολλές νομικές οντότητες στο Finance.

Εάν πρέπει να χρησιμοποιήσετε το Power Query, ακολουθήστε αυτές τις οδηγίες:

- Το πρότυπο έργων και συμβάσεων (PSA σε Fin και OPS) έχει ένα προεπιλεγμένο φίλτρο το οποίο περιλαμβάνει μόνο τις παραγγελίες πωλήσεων του **Στοιχείου εργασίας (msdyn\_ordertype = 192350001)**. Αυτό το φίλτρο σάς βοηθάει να εγγυηθείτε ότι οι συμβάσεις έργου δεν δημιουργούνται για παραγγελίες πωλήσεων στο Finance. Εάν δημιουργήσετε το δικό σας πρότυπο, πρέπει να προσθέσετε αυτό το φίλτρο.
- Δημιουργήστε ένα Power Query που περιλαμβάνει μόνο τους οργανισμούς σύμβασης που πρέπει να συγχρονιστούν με τη νομική οντότητα της σύνδεσης ενοποίησης που έχει οριστεί. Για παράδειγμα, οι συμβάσεις έργου που έχετε με την οργανωτική μονάδα σύμβασης της Contoso US θα πρέπει να συγχρονίζονται με τη νομική οντότητα USSI, αλλά οι συμβάσεις έργου που έχετε με την οργανωτική μονάδα σύμβασης της Contoso global θα πρέπει να συγχρονίζονται με τη νομική οντότητα USMF. Εάν δεν προσθέσετε αυτό το φίλτρο στην αντιστοίχιση εργασιών, όλες οι συμβάσεις έργου θα συγχρονιστούν με τη νομική οντότητα που καθορίζεται για το σύνολο συνδέσεων, ανεξάρτητα από την οργανωτική μονάδα της σύμβασης.

## <a name="template-mapping-in-data-integration"></a>Αντιστοίχιση προτύπου στην ενοποίηση δεδομένων

> [!NOTE] 
> Τα πεδία **CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState** και **AddressZipCode** δεν περιλαμβάνονται στην προεπιλεγμένη αντιστοίχιση για τις συμβάσεις έργου. Μπορείτε να προσθέσετε τις αντιστοιχίσεις, εάν απαιτείται ο συγχρονισμός αυτών των δεδομένων για τις συμβάσεις έργου.
>
> Τα πεδία **Περιγραφή**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber** και **ProjectType** δεν περιλαμβάνονται στην προεπιλεγμένη αντιστοίχιση για τα έργα. Μπορείτε να προσθέσετε τις αντιστοιχίσεις, εάν απαιτείται ο συγχρονισμός αυτών των δεδομένων για έργα.

Οι εικόνες που ακολουθούν δείχνουν παραδείγματα των αντιστοιχίσεων εργασιών προτύπου στην ενοποίηση δεδομένων. Η αντιστοίχιση εμφανίζει τις πληροφορίες πεδίου που θα συγχρονιστούν από το Project Service Automation στο Finance.

[![Αντιστοίχιση προτύπου σύμβασης έργου](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)

[![Αντιστοίχιση προτύπου έργου](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)

[![Αντιστοίχιση προτύπου γραμμών σύμβασης έργου](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)

[![Αντιστοίχιση προτύπου ορόσημου γραμμής σύμβασης έργου](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)

#### <a name="project-contract-line-milestone-mapping-in-the-projects-and-contracts-psa-3x-to-dynamics---v2-template"></a>Αντιστοίχιση ορόσημων της γραμμής σύμβασης έργου στα έργα και τις συμβάσεις (PSA 3.x σε Dynamics) - πρότυπο v2:

[![Αντιστοίχιση ορόσημου γραμμής σύμβασης έργου με πρότυπο έκδοσης δύο](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)


[!INCLUDE[footer-include](../includes/footer-banner.md)]
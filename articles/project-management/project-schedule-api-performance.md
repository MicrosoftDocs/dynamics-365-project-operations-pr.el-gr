---
title: Απόδοση API χρονοδιαγράμματος έργου
description: Αυτό το άρθρο παρέχει πληροφορίες σχετικά με τα δοκιμές απόδοσης των API χρονοδιαγράμματος έργων και προσδιορίζει τις καλύτερες πρακτικές για βέλτιστη χρήση.
author: ruhercul
ms.date: 11/03/2021
ms.topic: article
ms.reviewer: johnmichalak
ms.author: sigitac
ms.openlocfilehash: 1ee1bd8e4412ee1d10f445628c5dc87cc9fa91d3
ms.sourcegitcommit: 6cfc50d89528df977a8f6a55c1ad39d99800d9b4
ms.translationtype: HT
ms.contentlocale: el-GR
ms.lasthandoff: 06/03/2022
ms.locfileid: "8911182"
---
# <a name="project-schedule-api-performance"></a>Απόδοση API χρονοδιαγράμματος έργου

_**Ισχύει για:** Λειτουργίες Έργου για σενάρια με βάση πόρους/μη εφοδιασμένα, ελαφριά ανάπτυξη - συμφωνία για την προτιμολόγηση, Project for the Web_

Το άρθρο παρέχει πληροφορίες σχετικά με τα δοκιμές απόδοσης των διεπαφών προγραμματισμού χρονοδιαγράμματος (API) του χρονοδιαγράμματος έργου και προσδιορίζει τις καλύτερες πρακτικές για βελτιστοποίηση της χρήσης.

## <a name="project-scheduling-service"></a>Υπηρεσία προγραμματισμού έργου
Η υπηρεσία προγραμματισμού έργου είναι μια υπηρεσία πολλαπλών μισθωτών που εκτελείται στο Microsoft Azure. Έχει σχεδιαστεί για να βελτιώσει την αλληλεπίδραση, παρέχοντας γρήγορη και ρευστή εμπειρία όταν οι χρήστες εργάζονται σε έργα. Αυτή η βελτίωση επιτυγχάνεται με την αποδοχή αιτημάτων αλλαγής, την επεξεργασία τους και, στη συνέχεια, την άμεση επιστροφή του αποτελέσματος. Η υπηρεσία επιμένει ασύγχρονα στο Dataverse και δεν αποκλείει χρήστες να εκτελούν άλλες λειτουργίες.

Τα API χρονοδιαγράμματος έργου βασίζονται στην υπηρεσία προγραμματισμού έργου για την εκτέλεση αιτήσεων που περιγράφονται με περισσότερες λεπτομέρειες σε μεταγενέστερες ενότητες αυτού του άρθρου.

Τα API χρονοδιαγράμματος έργου έχουν σχεδιαστεί για να λειτουργούν με τις ακόλουθες οντότητες δομής ανάλυσης εργασίας (WBS):

  - Project
  - Εργασία έργου
  - Εξάρτηση εργασίας έργου
  - Μέλος ομάδας έργου
  - Ανάθεση πόρου
  
Υποστηρίζονται τόσο τα έτοιμα πεδία όσο και τα προσαρμοσμένα πεδία. Εκτός εάν ορίζεται διαφορετικά, υποστηρίζονται όλες οι κοινές λειτουργίες, όπως η δημιουργία, η ενημέρωση και η διαγραφή. Για περισσότερες πληροφορίες, ανατρέξτε στο [Χρήση API χρονοδιαγράμματος έργου για την εκτέλεση λειτουργιών με οντότητες προγραμματισμού](schedule-api-preview.md).

Ως μέρος των API του χρονοδιαγράμματος έργου, έχει προστεθεί ένα μοτίβο μονάδας εργασίας. Αυτό το μοτίβο είναι γνωστό ως OperationSet και μπορεί να χρησιμοποιηθεί όταν πρέπει να γίνει επεξεργασία πολλών αιτήσεων σε μία συναλλαγή.

Η εικόνα που ακολουθεί δείχνει τη ροή που θα έχει ένας συνεργάτης όταν χρησιμοποιείται αυτή η δυνατότητα.

![Ροή Dataverse και υπηρεσίας προγραμματισμού έργου.](./media/dataverse-project-scheduling-service-flow.png)

**Βήμα 1**: Ένας πελάτης πραγματοποιεί μια κλήση μέσω API σε ένα τελικό σημείο πρωτοκόλλου ανοιχτών δεδομένων (OData) στο Dataverse για να δημιουργήσει ένα OperationSet.

**Βήμα 2**: Μετά τη δημιουργία του νέου OperationSet, επιστρέφεται μια τιμή **OperationSetId**.

**Βήμα 3**: Το πρόγραμμα-πελάτης χρησιμοποιεί την τιμή **OperationSetId** για να κάνει μια άλλη αίτηση ΑΡΙ χρονοδιαγράμματος έργου. Το αποτέλεσμα είναι μια αίτηση δημιουργίας, ενημέρωσης ή διαγραφής σε μια οντότητα προγραμματισμού. Όταν γίνεται αυτή η αίτηση, γίνεται επικύρωση μετα-δεδομένων. Σε περίπτωση αποτυχίας της επικύρωσης, η αίτηση τερματίζεται και επιστρέφεται σφάλμα.

**Βήματα 4a–4c**: Αυτά τα βήματα αντιπροσωπεύουν το στάδιο ACCEPT. Ο πελάτης καλεί το API **ExecuteOperationSetV1**, το οποίο αποστέλλει όλες τις αλλαγές στην υπηρεσία προγραμματισμού έργου σε μία δέσμη. Η υπηρεσία προγραμματισμού έργου εκτελεί τις δικές της επικυρώσεις σε αιτήσεις της δέσμης. Τυχόν αποτυχίες επικύρωσης αναιρούν τη δέσμη και επιστρέφουν μια εξαίρεση στον καλούντα. Εάν η δέσμη γίνει αποδεκτή με επιτυχία από την υπηρεσία προγραμματισμού έργου, η κατάσταση OperationSet ενημερώνεται για να απεικονίσει το γεγονός ότι η επεξεργασία του OperationSet γίνεται από την υπηρεσία προγραμματισμού έργου.

**Βήμα 5** 5 το βήμα αντιπροσωπεύει το στάδιο PERSIST. Η υπηρεσία προγραμματισμού έργου κάνει ασύγχρονη εγγραφή της δέσμης στο Dataverse σε μια συναλλαγή. Εάν η λειτουργία εγγραφής είναι επιτυχής, το OperationSet επισημαίνεται ως **Ολοκληρώθηκε**. Τυχόν σφάλματα επαναφέρουν τη συναλλαγή και τη δέσμη και το OperationSet επισημαίνεται ως **Απέτυχε**.

## <a name="performance-methodology"></a>Μεθοδολογία επιδόσεων
Ο χρόνος εκτέλεσης ορίζεται ως η ώρα από την κλήση στο API **ExecuteOperationSetV1** έως ότου η υπηρεσία προγραμματισμού έργου ολοκληρώσει τη σύνταξη στο Dataverse. Όλες οι λειτουργίες εκτελούνται σε συνδυασμό 2.200 φορές και αναφέρονται οι μετρήσεις χρόνου εκτέλεσης P99. Μετρώνται οι λειτουργίες μίας καρτέλας και μαζικής τιμής.

Για μια λειτουργία μίας καρτέλας, το OperationSet περιέχει μία αίτηση. Για μαζικές λειτουργίες, περιέχει 20, 50 ή 100 αιτήσεις. Κάθε μαζικό μέγεθος αναφέρεται ξεχωριστά.

Αυτές οι λειτουργίες εκτελούνται σε ανάπτυξη UR 15 Project Operations Lite στη Βόρεια Αμερική.

## <a name="results"></a>Αποτελέσματα
### <a name="create-operations"></a>Δημιουργία λειτουργιών
#### <a name="single-record-create-operations"></a>Λειτουργίες δημιουργίας μίας καρτέλας
Στον ακόλουθο πίνακα παρουσιάζονται οι ώρες εκτέλεσης για τη δημιουργία μίας καρτέλας. Οι ώρες είναι σε δευτερόλεπτα.

<table class="tg">
<thead>
  <tr>
    <th class="tg-0lax" rowspan="2">Τύπος&nbsp;&nbsp;&nbsp;καρτέλας</th>
    <th class="tg-0lax" colspan="2">Ώρα λήξης</th>
  </tr>
  <tr>
    <th class="tg-0lax">Απαιτούμενα πεδία</th>
    <th class="tg-0lax">Όλα τα υποστηριζόμενα πεδία</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0lax">Project</td>
    <td class="tg-0lax">2.5</td>
    <td class="tg-0lax">3.78</td>
  </tr>
  <tr>
    <td class="tg-0lax">Κλείσιμο εργασίας</td>
    <td class="tg-0lax">8.82</td>
    <td class="tg-0lax">9.34</td>
  </tr>
  <tr>
    <td class="tg-0lax">Ανάθεση</td>
    <td class="tg-0lax">9.19</td>
    <td class="tg-0lax">9.19</td>
  </tr>
  <tr>
    <td class="tg-0lax">Μέλος ομάδας</td>
    <td class="tg-0lax">0.84</td>
    <td class="tg-0lax">4.2</td>
  </tr>
  <tr>
    <td class="tg-0lax">Εξάρτηση</td>
    <td class="tg-0lax">8.84</td>
    <td class="tg-0lax">8.84</td>
  </tr>
</tbody>
</table>

#### <a name="bulk-create-operations"></a>Λειτουργίες μαζικής δημιουργίας
Στον ακόλουθο πίνακα παρουσιάζονται οι ώρες εκτέλεσης για τη δημιουργία πολλών καρτελών. Συγκεκριμένα, η Microsoft μετρά τους χρόνους εκτέλεσης για τη δημιουργία 20, 50 και 100 καρτελών σε ένα μόνο OperationSet. Οι ώρες είναι σε δευτερόλεπτα.

<table class="tg">
<thead>
  <tr>
    <th class="tg-0lax" rowspan="3">Τύπος&nbsp;&nbsp;&nbsp;καρτέλας</th>
    <th class="tg-0lax" colspan="6">Ώρα λήξης</th>
  </tr>
  <tr>
    <th class="tg-0lax" colspan="2">20 καρτέλες</th>
    <th class="tg-0lax" colspan="2">50 καρτέλες</th>
    <th class="tg-0lax" colspan="2">100 καρτέλες</th>
  </tr>
  <tr>
    <th class="tg-0lax">Απαιτούμενα πεδία</th>
    <th class="tg-0lax">Όλα τα υποστηριζόμενα πεδία</th>
    <th class="tg-0lax">Απαιτούμενα πεδία</th>
    <th class="tg-0lax">Όλα τα υποστηριζόμενα πεδία</th>
    <th class="tg-0lax">Απαιτούμενα πεδία</th>
    <th class="tg-0lax">Όλα τα υποστηριζόμενα πεδία</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0lax">Κλείσιμο εργασίας</td>
    <td class="tg-0lax">19.92</td>
    <td class="tg-0lax">38.35</td>
    <td class="tg-0lax">36.67</td>
    <td class="tg-0lax">99.13</td>
    <td class="tg-0lax">116.77</td>
    <td class="tg-0lax">174.06</td>
  </tr>
  <tr>
    <td class="tg-0lax">Ανάθεση</td>
    <td class="tg-0lax">13.94</td>
    <td class="tg-0lax">13.94</td>
    <td class="tg-0lax">43.95</td>
    <td class="tg-0lax">43.95</td>
    <td class="tg-0lax">69.38</td>
    <td class="tg-0lax">69.38</td>
  </tr>
  <tr>
    <td class="tg-0lax">Εξάρτηση</td>
    <td class="tg-0lax">30.04</td>
    <td class="tg-0lax">30.04</td>
    <td class="tg-0lax">77.82</td>
    <td class="tg-0lax">77.82</td>
    <td class="tg-0lax">176.89</td>
    <td class="tg-0lax">176.89</td>
  </tr>
</tbody>
</table>

> [!NOTE] 
> Οι λειτουργίες μαζικής δημιουργίας στις οντότητες **Έργο** και **Μέλος ομάδας** δεν περιλαμβάνονται σε αυτόν τον πίνακα, επειδή ο χρόνο εκτέλεσης για αυτές τις λειτουργίες μοιάζει με τον χρόνο εκτέλεσης όταν το API για τη δημιουργία μιας μεμονωμένης καρτέλας καλείται πολλές φορές. Αυτά τα API εκτελούνται αμέσως στο Dataverse.

Στην εικόνα που ακολουθεί εμφανίζεται ένα σχέδιο των οντοτήτων εκτέλεσης για τις οντότητες **Εργασία**, **Ανάθεση** και **Εξάρτηση** όταν δημιουργούνται 20, 50 και 100 καρτέλες και χρησιμοποιούνται όλα τα υποστηριζόμενα πεδία.

![Δημιουργήστε ένα γράφημα χρόνου εκτέλεσης καρτέλας.](./media/create-record-execution-time.png)

### <a name="update-operations"></a>Ενημέρωση λειτουργιών
#### <a name="single-record-update-operations"></a>Λειτουργίες ενημέρωσης μίας καρτέλας
Στον ακόλουθο πίνακα παρουσιάζονται οι ώρες εκτέλεσης για ενημερώσεις μίας καρτέλας. Οι ώρες είναι σε δευτερόλεπτα.

<table class="tg">
<thead>
  <tr>
    <th class="tg-0lax" rowspan="2">Τύπος&nbsp;&nbsp;&nbsp;καρτέλας</th>
    <th class="tg-0lax" colspan="2">Ώρα λήξης</th>
  </tr>
  <tr>
    <th class="tg-0lax">Απαιτούμενα πεδία </th>
    <th class="tg-0lax">Όλα τα υποστηριζόμενα πεδία</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0lax">Project</td>
    <td class="tg-0lax">9.53</td>
    <td class="tg-0lax">13.91</td>
  </tr>
  <tr>
    <td class="tg-0lax">Κλείσιμο εργασίας</td>
    <td class="tg-0lax">8.82</td>
    <td class="tg-0lax">9.91</td>
  </tr>
  <tr>
    <td class="tg-0lax">Μέλος ομάδας</td>
    <td class="tg-0lax">9</td>
    <td class="tg-0lax">8.96</td>
  </tr>
</tbody>
</table>

> [!NOTE]
> Οι λειτουργίες ενημέρωσης στις οντότητες **Αναθέσεις πόρων** και **Εξάρτηση εργασίας έργου** δεν υποστηρίζονται.

#### <a name="bulk-update-operations"></a>Λειτουργίες μαζικής ενημέρωσης
Στον ακόλουθο πίνακα παρουσιάζονται οι ώρες εκτέλεσης για ενημερώσεις πολλών καρτελών. Συγκεκριμένα, η Microsoft μετρά τους χρόνους εκτέλεσης για ενημερώσεις 20, 50 και 100 καρτελών σε ένα μόνο OperationSet. Οι ώρες είναι σε δευτερόλεπτα.

<table class="tg">
<thead>
  <tr>
    <th class="tg-0lax" rowspan="3">Τύπος&nbsp;&nbsp;&nbsp;καρτέλας</th>
    <th class="tg-0lax" colspan="6">Ώρα λήξης</th>
  </tr>
  <tr>
    <th class="tg-0lax" colspan="2">20 καρτέλες</th>
    <th class="tg-0lax" colspan="2">50 καρτέλες</th>
    <th class="tg-0lax" colspan="2">100 καρτέλες</th>
  </tr>
  <tr>
    <th class="tg-0lax">Απαιτούμενα πεδία</th>
    <th class="tg-0lax">Όλα τα υποστηριζόμενα πεδία</th>
    <th class="tg-0lax">Απαιτούμενα πεδία</th>
    <th class="tg-0lax">Όλα τα υποστηριζόμενα πεδία</th>
    <th class="tg-0lax">Απαιτούμενα πεδία</th>
    <th class="tg-0lax">Όλα τα υποστηριζόμενα πεδία</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0lax">Κλείσιμο εργασίας</td>
    <td class="tg-0lax">8.91</td>
    <td class="tg-0lax">38.71</td>
    <td class="tg-0lax">20.92</td>
    <td class="tg-0lax">87.13</td>
    <td class="tg-0lax">36.68</td>
    <td class="tg-0lax">190.34</td>
  </tr>
  <tr>
    <td class="tg-0lax">Μέλος ομάδας</td>
    <td class="tg-0lax">20.52</td>
    <td class="tg-0lax">26.06</td>
    <td class="tg-0lax">41.93</td>
    <td class="tg-0lax">44.51</td>
    <td class="tg-0lax">38.63</td>
    <td class="tg-0lax">66.53</td>
  </tr>
</tbody>
</table>

> [!NOTE]
> Οι λειτουργίες ενημέρωσης στις οντότητες **Αναθέσεις πόρων** και **Εξάρτηση εργασίας έργου** δεν υποστηρίζονται.

Στην εικόνα που ακολουθεί εμφανίζεται ένα σχέδιο των οντοτήτων εκτέλεσης για τις οντότητες Εργασία και Μέλος ομάδας όταν ενημερώνονται 20, 50 και 100 καρτέλες και χρησιμοποιούνται όλα τα υποστηριζόμενα πεδία.

![Ενημερώστε ένα γράφημα χρόνου εκτέλεσης καρτέλας.](./media/update-record-execution-time.png)

### <a name="delete-operations"></a>Διαγραφή λειτουργιών
#### <a name="single-record-delete-operations"></a>Λειτουργίες διαγραφής μίας καρτέλας
Στον ακόλουθο πίνακα παρουσιάζονται οι ώρες εκτέλεσης για τη διαγραφή μίας καρτέλας. Οι ώρες είναι σε δευτερόλεπτα.

| Τύπος καρτέλας | Ώρα λήξης  |
|-------------|-------|
| Κλείσιμο εργασίας        | 20.12 |
| Ανάθεση  | 10.86 |
| Μέλος ομάδας | 12.52 |
| Εξάρτηση  | 20.89 |

> [!NOTE]
> Οι λειτουργίες διαγραφής στην οντότητα **Έργο** δεν υποστηρίζονται.

#### <a name="bulk-delete-operations"></a>Λειτουργίες μαζικής διαγραφής
Στον ακόλουθο πίνακα παρουσιάζονται οι ώρες εκτέλεσης για τη διαγραφή πολλών καρτελών. Συγκεκριμένα, η Microsoft μετρά τους χρόνους εκτέλεσης για τη διαγραφή 20, 50 και 100 καρτελών σε ένα μόνο OperationSet. Οι ώρες είναι σε δευτερόλεπτα.

<table class="tg">
<thead>
  <tr>
    <th class="tg-0lax" rowspan="2">Τύπος&nbsp;&nbsp;&nbsp;καρτέλας</th>
    <th class="tg-0lax" colspan="3">Ώρα λήξης</th>
  </tr>
  <tr>
    <th class="tg-0lax">20 καρτέλες</th>
    <th class="tg-0lax">50 καρτέλες</th>
    <th class="tg-0lax">100 καρτέλες</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td class="tg-0lax">Κλείσιμο εργασίας</td>
    <td class="tg-0lax">20.91</td>
    <td class="tg-0lax">67.43</td>
    <td class="tg-0lax">71.96</td>
  </tr>
  <tr>
    <td class="tg-0lax">Ανάθεση</td>
    <td class="tg-0lax">11.75</td>
    <td class="tg-0lax">25.79</td>
    <td class="tg-0lax">47.66</td>
  </tr>
  <tr>
    <td class="tg-0lax">Μέλος ομάδας</td>
    <td class="tg-0lax">9.78</td>
    <td class="tg-0lax">39.73</td>
    <td class="tg-0lax">24.33</td>
  </tr>
  <tr>
    <td class="tg-0lax">Εξάρτηση</td>
    <td class="tg-0lax">24.61</td>
    <td class="tg-0lax">54.9</td>
    <td class="tg-0lax">109.16</td>
  </tr>
</tbody>
</table>

> [!NOTE]
> Οι λειτουργίες διαγραφής στην οντότητα **Έργο** δεν υποστηρίζονται.

Στην εικόνα που ακολουθεί εμφανίζεται ένα σχέδιο των οντοτήτων εκτέλεσης για τις οντότητες **Εργασία**, **Ανάθεση**, **Μέλος ομάδας** και **Εξάρτηση** όταν διαγράφονται 20, 50 και 100 καρτέλες.

![Διαγράψτε ένα γράφημα χρόνου εκτέλεσης καρτέλας.](./media/delete-record-execution-time.png)

## <a name="observations"></a>Παρατηρήσεις
Για κάθε λειτουργία καρτέλας, το API **ExecuteOperationSet** παίρνει περίπου 800 χιλιοστά του δευτερολέπτου για να στείλει μια αίτηση στην υπηρεσία προγραμματισμού έργου. Έπειτα, η υπηρεσία προγραμματισμού έργου διαρκεί περίπου πέντε δευτερόλεπτα για την επεξεργασία του ωφέλιμου φορτίου και την κλήση Dataverse. Ο υπόλοιπος χρόνος εκτέλεσης δαπανάται για την εκτέλεση επιχειρηματικής λογικής και τη σύνταξη δεδομένων στη βάση δεδομένων στο Dataverse.

Όταν δημιουργούνται, ενημερώνονται ή διαγράφονται 100 καρτέλες, το API **ExecuteOperationSet** διαρκεί περίπου τρία δευτερόλεπτα για να στείλει την αίτηση στην υπηρεσία προγραμματισμού έργου. Έπειτα, η υπηρεσία προγραμματισμού έργου διαρκεί περίπου πέντε δευτερόλεπτα για την επεξεργασία των αιτημάτων και την κλήση Dataverse. Οι μαζικές λειτουργίες πρέπει να πληρώνουν έναν **φόρο υπηρεσίας προγραμματισμού έργου** μία φορά, για όλες τις καρτέλες στο OperationSet. Επομένως, οι μαζικές λειτουργίες έχουν σημαντικά μικρότερο μέσο χρόνο εκτέλεσης από ό,τι οι λειτουργίες μίας καρτέλας.

## <a name="scenarios"></a>Σενάρια
Ο παρακάτω πίνακας δείχνει τις ώρες εκτέλεσης κατά τις οποίες χρησιμοποιούνται API χρονοδιαγράμματος έργου για την επίτευξη συγκεκριμένων σεναρίων. Οι ώρες είναι σε δευτερόλεπτα.

| Σενάριο                                                                   | Ώρα λήξης  |
|----------------------------------------------------------------------------|-------|
| Δημιουργήστε ένα έργο με 40 εργασίες.                                      | 36.01 |
| Δημιουργήστε ένα έργο που έχει 40 εργασίες και 20 εξαρτήσεις.                  | 38.11 |
| Δημιουργήστε ένα έργο που έχει 40 εργασίες και 30 αναθέσεις.                   | 60.17 |
| Δημιουργήστε ένα έργο που έχει 40 εργασίες, 20 εξαρτήσει και 30 αναθέσεις. | 60.27 |

## <a name="best-practices"></a>Βέλτιστες πρακτικές
Με βάση τα αποτελέσματα του προηγούμενου σεναρίου, τα API έχουν καλύτερες επιδόσεις στις παρακάτω συνθήκες:

  - Ομαδοποιήστε όσο το δυνατό περισσότερες λειτουργίες γίνεται. Ο μέσος χρόνος εκτέλεσης για μαζικές λειτουργίες είναι καλύτερος από τον μέσο χρόνο εκτέλεσης για λειτουργίες μίας καρτέλας. Όσο μικρότερος είναι ο αριθμός των OperationSets που χρησιμοποιούνται, τόσο πιο γρήγορος θα είναι ο μέσος χρόνος εκτέλεσης.
  - Ορίστε μόνο τα ελάχιστα χαρακτηριστικά που απαιτούνται για την ολοκλήρωση του σεναρίου σας. Να είστε επιλεκτικοί σχετικά με τους τύπους μη απαιτούμενων πεδίων που περιλαμβάνονται σε μια αίτηση OperationSet. Τα πεδία που περιέχουν ξένα κλειδιά ή πεδία συνάθροισης θα επηρεάσουν αρνητικά την απόδοση.
